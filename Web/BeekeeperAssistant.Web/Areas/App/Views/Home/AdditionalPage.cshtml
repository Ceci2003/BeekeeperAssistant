@model BeekeeperAssistant.Web.ViewModels.Home.AdditionalPageViewModel
@using BeekeeperAssistant.Web.ViewModels.Shared

@{
    ViewData["Title"] = "Система";

    var navigation = new Dictionary<string, string>();
    navigation.Add("Табло", "/App");
    navigation.Add(ViewData["Title"].ToString(), null);

    var breadcrumbNav = new BreadcrumbModel
    {
        Navigation = navigation,
    };
}

<head>
    <link rel="stylesheet" href="~/css/loggedIn/views/additionalPage.css">
</head>

<partial model="@breadcrumbNav" name="_BreadcrumbPartial" />

<div class="content">
    <partial name="_StatusMessagePartial" />
    <div class="additionalPage-container">
        <div class="system-notifications">
            @if (User.IsInRole(GlobalConstants.AdministratorRoleName))
            {
                <div class="admin-controls">
                    <a class="btn apiary-create" style="width:1oo%; float:none;" asp-area="Administration"
                    asp-controller="SystemNotification" asp-action="Create">
                        Добави известие
                    </a>
                </div>
            }
            else
            {
                <div class="notificationс-title">
                    Системни известия
                </div>
            }
            <div class="list">
                @foreach (var notification in Model.SystemNotifications)
                {
                    <div class="notification">
                        <div class="version">
                            <div>@notification.Version</div>
                            <div>@notification.CreatedOn.ToString("dd-MM-yyyy")</div>
                        </div>
                        <h1 class="title">@notification.Title</h1>
                        @if (notification.ImageUrl != null)
                        {
                            <img class="image" src="@notification.ImageUrl" alt="Снимка от статия">
                        }
                        <div class="notification-content">
                            @Html.Raw(notification.Content)
                        </div>
                        <div class="created-on">
                            Автор: Администратор
                        </div>
                    </div>
                }
            </div>
        </div>
        <div class="additional-buttons">
            <div class="additional-title">
                Експортиране на образци
            </div>
            <div class="list">
                <a class="additional-button excel-export" asp-controller="ExportDocument" asp-action="ExcelExportForDFZ">
                    <i class="fas fa-file-excel"></i>
                    <p>Образец ЗХОЖКФ – 87 А</p>
                </a>
            </div>
            <div class="additional-title up">
                Документация
            </div>
            <div class="list">
                <a class="additional-button documentation" target="blank" href="~/documents/BeekeeperAssistant_Users_Guide.pdf">
                    <i class="fas fa-book-open"></i>
                    <p>Потребителскo ръководство</p>
                </a>
                <a class="additional-button documentation" target="blank" href="~/documents/leaflet_NEW.pdf">
                    <i class="far fa-map"></i>
                    <p>Брошура</p>
                </a>
            </div>
        </div>
    </div>
</div>